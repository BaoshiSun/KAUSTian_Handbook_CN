:github_url: https://github.com/guochengqian/KAUSTian_Handbook_CN

网络
========

网络大致拓扑
--------------

* 全校有一个公网出网口和一个备用公网出网口，因此需要假设对外服务的同学需要另行购买其他服务器。
* 校内所有服务建立在一个10段的大网段中，所有接入校内网的设备均可被分配到一个10段的内网地址并可互相访问，笔者测试后发现内网服务体验良好，有线网络延迟1ms左右
* 全校网络出口直通荷兰阿姆斯特丹，虽然IP显示为麦加，其实所有数据从荷兰出口，到国内网络延迟约为100～200ms，使用speedtest进行实测发现阿姆斯特丹的网速较麦加快100Mbps-200Mbps
* 全校办公区网速为千兆口，宿舍区由于交换机较老，仍然是内网外网100Mbps，笔者询问IT部门（2022-09询问）后得知学校有更换交换机和路由器的计划（但是截止2023-01，该计划仍然只是计划，并未实行）
* 如果使用自建DNS的用户，需要使用学校的DNS，否则无法解析校内各类服务的域名

校内DNS为：

.. code-block:: bash

    10.254.1.51
    10.254.1.52


校园WiFi
-----------

iCampus
^^^^^^^^^^^^^^
* 校内WiFi，使用学号和密码连接，宿舍区iCampus信号极差，需要使用宿舍的路由器，但是由于校内WiFi仍然使用WiFi5，因此网速只能达到400Mbps且延迟不稳定
* 工位上不允许使用自带无线路由器，否则会封网口（笔者血泪教训）
* 校园区iCampus体验良好，几乎实现WiFi全覆盖

KAUST-Guest
^^^^^^^^^^^^^^^^^^^^
校内另一个WiFi，无需认证，但也无法访问校内其他设备

宿舍网络
-----------
* 宿舍没有弱电箱且所有的网络基础设施不对外开放，有任何网络需求需要联系IT部门
* 宿舍所有网口均为POE口

无线网络
^^^^^^^^^^^^^
* 有些宿舍会附赠学校发的WiFi5 Access Point，该AP顶部有二维码，但是实际上不能用，需要扫描该AP底部的二维码进行配置，实测5G频段最高速度为866Mbps
* 如果需要宿舍有良好的网络体验，笔者建议携带WiFi 6 Mesh路由器，因为宿舍为两层结构，使用Mesh 路由器进行组网可以有效避免上下或位于不同房间导致的网络波动，也可省去手动切换WiFi的烦恼

有线网络
^^^^^^^^^^^^^
* 由于宿舍交换机是100Mbps，因此宿舍内部不同网口之间的速率仅为百兆，等待学校升级。有NAS或建站需求的可自备交换机或联系IT进行升级
* 全校网络互通，但是仍有不同的路由器进行不同网段间的路由，假设透明代理需考虑是否所有主机在同一子网网段。


网络审查
--------------
* 校内仍然具有网络审查，色情，宗教，黑客网站会被禁止访问，Kali Linux 也不能正常下载和升级，同时一些其他的网站也有可能被误封，需要联系IT解封。
* 可以使用国内常见的科学上网手段绕过这些审查
* 学校对未知域名存在有DNS污染，因此可以考虑自建DNS或使用DoH
* 学校发的设备以及所有的公用设备均带有学校的监控审查软件，同时起到杀毒的作用，且无法卸载。同时如果需要安装软件，需要联系老板批准和IT获取设备的管理员权限。


